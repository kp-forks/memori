---
title: MySQL
description: Set up Memori with MySQL â€” use your existing MySQL infrastructure for AI agent memory.
---

# MySQL

If your infrastructure already runs MySQL, you can use it directly with Memori without setting up a separate database.

## Install

<CodeGroup title="Install MySQL Driver">

```bash {{ title: 'PyMySQL (Pure Python)' }}
pip install memori pymysql
```

```bash {{ title: 'mysqlclient (C Extension)' }}
pip install memori mysqlclient
```

</CodeGroup>

## Quick Start

<CodeGroup title="MySQL Connection">

```python {{ title: 'PyMySQL' }}
from memori import Memori
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker

engine = create_engine(
    "mysql+pymysql://user:password@localhost:3306/memori_db",
    pool_pre_ping=True
)
SessionLocal = sessionmaker(bind=engine)

mem = Memori(conn=SessionLocal)
mem.config.storage.build()
```

```python {{ title: 'mysqlclient' }}
from memori import Memori
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker

engine = create_engine(
    "mysql+mysqldb://user:password@localhost:3306/memori_db",
    pool_pre_ping=True
)
SessionLocal = sessionmaker(bind=engine)

mem = Memori(conn=SessionLocal)
mem.config.storage.build()
```

</CodeGroup>

## Connection Strings

| Driver           | Connection String                                                     |
| ---------------- | --------------------------------------------------------------------- |
| **PyMySQL**      | `mysql+pymysql://user:pass@host:3306/database`                        |
| **mysqlclient**  | `mysql+mysqldb://user:pass@host:3306/database`                        |
| **With charset** | `mysql+pymysql://user:pass@host:3306/database?charset=utf8mb4`        |
| **With SSL**     | `mysql+pymysql://user:pass@host:3306/database?ssl_ca=/path/to/ca.pem` |

## Complete Example

```python
import os
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker
from memori import Memori
from openai import OpenAI

engine = create_engine(
    "mysql+pymysql://user:password@localhost:3306/memori_db"
    "?charset=utf8mb4",
    pool_pre_ping=True,
    pool_size=5,
    max_overflow=10,
    pool_recycle=1800
)
SessionLocal = sessionmaker(bind=engine)

client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
mem = Memori(conn=SessionLocal).llm.register(client)
mem.attribution(entity_id="user_123", process_id="my_agent")
mem.config.storage.build()

response = client.chat.completions.create(
    model="gpt-4o-mini",
    messages=[{"role": "user", "content": "I work at Acme Corp as a designer."}]
)
print(response.choices[0].message.content)

mem.augmentation.wait()
facts = mem.recall("workplace")
print(facts)
```
